@{
    ViewData["Title"] = "ورود مدیر"; Layout = null;
}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="utf-8">
    <title>ورود مدیر - بخش مدیریت</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS Files -->
    <link href="~/SiteTemplate/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/SiteTemplate/assets/css/main.css" rel="stylesheet">
    <link href="~/SiteTemplate/assets/css/style.css" rel="stylesheet">
    <link href="~/sweetalert2/sweetalert2.min.css" rel="stylesheet" />
    <style>
        body {
            background: #f3f6fa;
        }

        .admin-login-box {
            margin-top: 8%;
            background: #fff;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 0 15px rgba(0,0,0,.1);
        }

            .admin-login-box h3 {
                font-weight: bold;
                text-align: center;
                margin-bottom: 25px;
                color: #2c3e50;
            }

        .btn-admin {
            background: #34495e;
            color: #fff;
            width: 100%;
            font-size: 16px;
            font-weight: bold;
            border-radius: 8px;
        }

            .btn-admin:hover {
                background: #2c3e50;
            }
    </style>
</head>
<body>
    <main class="wrapper default"> 
        <div class="container"> 
            <div class="row justify-content-center"> 
                <div class="col-12 col-md-7 col-lg-5"> 
                    <div class="admin-login-box">
                        <h3>ورود به پنل مدیریت</h3> 
                        <form> 
                            <div class="form-group">
                                <label>ایمیل مدیر</label> 
                                <input class="form-control" type="text" id="Email" placeholder="ایمیل مدیر"> 
                            </div> 
                            <div class="form-group"> 
                                <label>رمز عبور</label> 
                                <input class="form-control" type="password" id="Password" placeholder="رمز عبور"> 
                            </div> 
                            <div class="form-group text-center"> 
                                <button type="button" onclick="AdminLogin()" class="btn btn-admin">ورود</button>
                            </div> 
                        </form> 
                     </div> 
                 </div> 
            </div>
        </div> 
    </main>
</body>
    <!-- Scripts -->
    <script src="~/SiteTemplate/assets/js/core/jquery.3.2.1.min.js"></script>
    <script src="~/SiteTemplate/assets/js/core/bootstrap.min.js"></script>
    <script src="~/sweetalert2/sweetalert2.min.js"></script>
    <script>
        function AdminLogin() {
            var Email = $("#Email").val().trim();
            var Password = $("#Password").val().trim();

            // ✅ بررسی ورودی‌ها قبل از ارسال
            if (!Email || !Password) {
                Swal.fire('هشدار!', 'ایمیل و رمز عبور را وارد کنید.', 'warning');
                return;
            }

            var postData = {
                'Email': Email,
                'Password': Password,
            };

            $.ajax({
                contentType: 'application/x-www-form-urlencoded',
                dataType: 'json',
                type: "POST",
                url: "/Admin/AdminAccount/Login",
                data: postData,
                success: function (data) {
                    if (data.isSuccess === true) {
                        Swal.fire('موفق!', data.message, 'success').then(function () {
                            window.location.replace("/Admin/users/index"); // بعد از ورود برو به داشبورد
                        });
                    }
                    else {
                        Swal.fire('خطا!', data.message || 'نام کاربری یا رمز اشتباه است.', 'error');
                    }
                },
                error: function () {
                    // ✅ فقط پیام ساده بده، نه متن خام خطا
                    Swal.fire('خطا!', 'مشکلی در ارتباط با سرور پیش آمد. لطفاً دوباره تلاش کنید.', 'error');
                }
            });
        }
    </script>


</html>